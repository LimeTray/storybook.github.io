import{_ as te}from"./objectWithoutPropertiesLoose-f3b3ace0.js";import{_ as _e}from"./inheritsLoose-5494d9cc.js";import{_ as m}from"./extends-4c19d496.js";import{i as Se}from"./isEmpty-b690c58c.js";import{q as We,r as Ge,d as Oe,s as $e,t as ge,f as xe,u as Me,_ as P,l as Te}from"./factories-df82d7d3.js";import{t as me,B as Be,N as B,o as Ue,d as Ke,x as He,c as O,u as L,g as U,b as K,a as be}from"./getElementType-ff0d42f5.js";import{W as ne,i as Re,g as Ye}from"./childrenUtils-dd3b0ba5.js";import{b as je,p as Ve,h as ke}from"./htmlPropsUtils-2b22d933.js";import{b as re}from"./includes-192f9362.js";import{k as w,a as A,i as ze,b as qe}from"./Portal-8d2f321a.js";import{m as se}from"./map-20538cdf.js";import{r as Xe,p as b}from"./index-f77928b3.js";import{M as Qe,i as Je}from"./ModernAutoControlledComponent-6bbe7d3d.js";import{R as f,r as Ze}from"./index-ad58220e.js";import{I as et}from"./Input-3f8aa787.js";var ae=Object.create,tt=function(){function n(){}return function(t){if(!me(t))return{};if(ae)return ae(t);n.prototype=t;var s=new n;return n.prototype=void 0,s}}();const z=tt;var nt=ne&&new ne;const M=nt;var rt=M?function(n,t){return M.set(n,t),n}:Be;const ye=rt;function W(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var s=z(n.prototype),e=n.apply(s,t);return me(e)?e:s}}var st=1;function at(n,t,s){var e=t&st,o=W(n);function i(){var l=this&&this!==B&&this instanceof i?o:n;return l.apply(e?s:this,arguments)}return i}var ot=Math.max;function Ae(n,t,s,e){for(var o=-1,i=n.length,l=s.length,r=-1,a=t.length,c=ot(i-l,0),u=Array(a+c),p=!e;++r<a;)u[r]=t[r];for(;++o<l;)(p||o<i)&&(u[s[o]]=n[o]);for(;c--;)u[r++]=n[o++];return u}var it=Math.max;function we(n,t,s,e){for(var o=-1,i=n.length,l=-1,r=s.length,a=-1,c=t.length,u=it(i-r,0),p=Array(u+c),h=!e;++o<u;)p[o]=n[o];for(var d=o;++a<c;)p[d+a]=t[a];for(;++l<r;)(h||o<i)&&(p[d+s[l]]=n[o++]);return p}function lt(n,t){for(var s=n.length,e=0;s--;)n[s]===t&&++e;return e}function q(){}var ut=4294967295;function D(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ut,this.__views__=[]}D.prototype=z(q.prototype);D.prototype.constructor=D;var ct=M?function(n){return M.get(n)}:We;const Ie=ct;var pt={};const oe=pt;var ht=Object.prototype,dt=ht.hasOwnProperty;function ft(n){for(var t=n.name+"",s=oe[t],e=dt.call(oe,t)?s.length:0;e--;){var o=s[e],i=o.func;if(i==null||i==n)return o.name}return t}function N(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}N.prototype=z(q.prototype);N.prototype.constructor=N;function Ce(n,t){var s=-1,e=n.length;for(t||(t=Array(e));++s<e;)t[s]=n[s];return t}function vt(n){if(n instanceof D)return n.clone();var t=new N(n.__wrapped__,n.__chain__);return t.__actions__=Ce(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}var _t=Object.prototype,gt=_t.hasOwnProperty;function T(n){if(Ue(n)&&!Ke(n)&&!(n instanceof D)){if(n instanceof N)return n;if(gt.call(n,"__wrapped__"))return vt(n)}return new N(n)}T.prototype=q.prototype;T.prototype.constructor=T;function mt(n){var t=ft(n),s=T[t];if(typeof s!="function"||!(t in D.prototype))return!1;if(n===s)return!0;var e=Ie(s);return!!e&&n===e[0]}var Rt=Ge(ye);const Pe=Rt;var yt=/\{\n\/\* \[wrapped with (.+)\] \*/,At=/,? & /;function wt(n){var t=n.match(yt);return t?t[1].split(At):[]}var It=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Ct(n,t){var s=t.length;if(!s)return n;var e=s-1;return t[e]=(s>1?"& ":"")+t[e],t=t.join(s>2?", ":" "),n.replace(It,`{
/* [wrapped with `+t+`] */
`)}var Pt=1,Lt=2,Dt=8,Nt=16,Ft=32,Et=64,St=128,Wt=256,Gt=512,Ot=[["ary",St],["bind",Pt],["bindKey",Lt],["curry",Dt],["curryRight",Nt],["flip",Gt],["partial",Ft],["partialRight",Et],["rearg",Wt]];function $t(n,t){return je(Ot,function(s){var e="_."+s[0];t&s[1]&&!Oe(n,e)&&n.push(e)}),n.sort()}function Le(n,t,s){var e=t+"";return $e(n,Ct(e,$t(wt(e),s)))}var xt=1,Mt=2,Tt=4,Bt=8,ie=32,le=64;function De(n,t,s,e,o,i,l,r,a,c){var u=t&Bt,p=u?l:void 0,h=u?void 0:l,d=u?i:void 0,g=u?void 0:i;t|=u?ie:le,t&=~(u?le:ie),t&Tt||(t&=~(xt|Mt));var v=[n,t,o,d,p,g,h,r,a,c],R=s.apply(void 0,v);return mt(n)&&Pe(R,v),R.placeholder=e,Le(R,n,t)}function X(n){var t=n;return t.placeholder}var Ut=Math.min;function Kt(n,t){for(var s=n.length,e=Ut(t.length,s),o=Ce(n);e--;){var i=t[e];n[e]=He(i,s)?o[i]:void 0}return n}var ue="__lodash_placeholder__";function G(n,t){for(var s=-1,e=n.length,o=0,i=[];++s<e;){var l=n[s];(l===t||l===ue)&&(n[s]=ue,i[o++]=s)}return i}var Ht=1,bt=2,Yt=8,jt=16,Vt=128,kt=512;function Q(n,t,s,e,o,i,l,r,a,c){var u=t&Vt,p=t&Ht,h=t&bt,d=t&(Yt|jt),g=t&kt,v=h?void 0:W(n);function R(){for(var y=arguments.length,_=Array(y),E=y;E--;)_[E]=arguments[E];if(d)var x=X(R),Fe=lt(_,x);if(e&&(_=Ae(_,e,o,d)),i&&(_=we(_,i,l,d)),y-=Fe,d&&y<c){var Ee=G(_,x);return De(n,t,Q,R.placeholder,s,_,Ee,r,a,c-y)}var ee=p?s:this,H=h?ee[n]:n;return y=_.length,r?_=Kt(_,r):g&&y>1&&_.reverse(),u&&a<y&&(_.length=a),this&&this!==B&&this instanceof R&&(H=v||W(H)),H.apply(ee,_)}return R}function zt(n,t,s){var e=W(n);function o(){for(var i=arguments.length,l=Array(i),r=i,a=X(o);r--;)l[r]=arguments[r];var c=i<3&&l[0]!==a&&l[i-1]!==a?[]:G(l,a);if(i-=c.length,i<s)return De(n,t,Q,o.placeholder,void 0,l,c,void 0,void 0,s-i);var u=this&&this!==B&&this instanceof o?e:n;return ge(u,this,l)}return o}var qt=1;function Xt(n,t,s,e){var o=t&qt,i=W(n);function l(){for(var r=-1,a=arguments.length,c=-1,u=e.length,p=Array(u+a),h=this&&this!==B&&this instanceof l?i:n;++c<u;)p[c]=e[c];for(;a--;)p[c++]=arguments[++r];return ge(h,o?s:this,p)}return l}var ce="__lodash_placeholder__",Y=1,Qt=2,Jt=4,pe=8,S=128,he=256,Zt=Math.min;function en(n,t){var s=n[1],e=t[1],o=s|e,i=o<(Y|Qt|S),l=e==S&&s==pe||e==S&&s==he&&n[7].length<=t[8]||e==(S|he)&&t[7].length<=t[8]&&s==pe;if(!(i||l))return n;e&Y&&(n[2]=t[2],o|=s&Y?0:Jt);var r=t[3];if(r){var a=n[3];n[3]=a?Ae(a,r,t[4]):r,n[4]=a?G(n[3],ce):t[4]}return r=t[5],r&&(a=n[5],n[5]=a?we(a,r,t[6]):r,n[6]=a?G(n[5],ce):t[6]),r=t[7],r&&(n[7]=r),e&S&&(n[8]=n[8]==null?t[8]:Zt(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=o,n}var tn="Expected a function",de=1,nn=2,j=8,V=16,k=32,fe=64,ve=Math.max;function rn(n,t,s,e,o,i,l,r){var a=t&nn;if(!a&&typeof n!="function")throw new TypeError(tn);var c=e?e.length:0;if(c||(t&=~(k|fe),e=o=void 0),l=l===void 0?l:ve(re(l),0),r=r===void 0?r:re(r),c-=o?o.length:0,t&fe){var u=e,p=o;e=o=void 0}var h=a?void 0:Ie(n),d=[n,t,s,e,o,u,p,i,l,r];if(h&&en(d,h),n=d[0],t=d[1],s=d[2],e=d[3],o=d[4],r=d[9]=d[9]===void 0?a?0:n.length:ve(d[9]-c,0),!r&&t&(j|V)&&(t&=~(j|V)),!t||t==de)var g=at(n,t,s);else t==j||t==V?g=zt(n,t,r):(t==k||t==(de|k))&&!o.length?g=Xt(n,t,s,e):g=Q.apply(void 0,d);var v=h?ye:Pe;return Le(v(g,d),n,t)}var sn=64,J=xe(function(n,t){var s=G(t,X(J));return rn(n,sn,void 0,t,s)});J.placeholder={};const an=J;function Z(n){var t=n.categoryContent,s=n.resultsContent;return f.createElement(f.Fragment,null,f.createElement("div",{className:"name"},t),f.createElement("div",{className:"results"},s))}Z.handledProps=["categoryContent","resultsContent"];Z.propTypes={};function I(n){var t=n.active,s=n.children,e=n.className,o=n.content,i=n.layoutRenderer,l=n.renderer,r=O(L(t,"active"),"category",e),a=U(I,n),c=K(I,n),u=l(n),p=Re(s)?o:s;return f.createElement(c,m({},a,{className:r}),i({categoryContent:u,resultsContent:p}))}I.handledProps=["active","as","children","className","content","layoutRenderer","name","renderer","results"];I.defaultProps={layoutRenderer:Z,renderer:function(t){var s=t.name;return s}};I.propTypes={};var Ne=function(t){var s=t.image,e=t.price,o=t.title,i=t.description;return[s&&f.createElement("div",{key:"image",className:"image"},Me(s,{autoGenerateKey:!1})),f.createElement("div",{key:"content",className:"content"},e&&f.createElement("div",{className:"price"},e),o&&f.createElement("div",{className:"title"},o),i&&f.createElement("div",{className:"description"},i))]};Ne.handledProps=[];var $=function(n){_e(t,n);function t(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i))||this,e.handleClick=function(r){var a=e.props.onClick;a&&a(r,e.props)},e}var s=t.prototype;return s.render=function(){var o=this.props,i=o.active,l=o.className,r=o.renderer,a=O(L(i,"active"),"result",l),c=U(t,this.props),u=K(t,this.props);return f.createElement(u,m({},c,{className:a,onClick:this.handleClick}),r(this.props))},t}(Ze.Component);$.handledProps=["active","as","className","content","description","id","image","onClick","price","renderer","title"];$.propTypes={};$.defaultProps={renderer:Ne};function F(n){var t=n.children,s=n.className,e=n.content,o=O("results transition",s),i=U(F,n),l=K(F,n);return f.createElement(l,m({},i,{className:o}),Re(t)?e:t)}F.handledProps=["as","children","className","content"];F.propTypes={};var on=function(t){var s=t.input;return Je(s)?m({},t,{input:{className:"prompt"}}):Te(s)?m({},t,{input:m({},s,{className:O(s.className,"prompt")})}):t},C=function(n){_e(t,n);function t(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=n.call.apply(n,[this].concat(i))||this,e.handleResultSelect=function(r,a){P(e.props,"onResultSelect",r,m({},e.props,{result:a}))},e.handleSelectionChange=function(r){var a=e.getSelectedResult();P(e.props,"onSelectionChange",r,m({},e.props,{result:a}))},e.closeOnEscape=function(r){w.getCode(r)===w.Escape&&(r.preventDefault(),e.close())},e.moveSelectionOnKeyDown=function(r){switch(w.getCode(r)){case w.ArrowDown:r.preventDefault(),e.moveSelectionBy(r,1);break;case w.ArrowUp:r.preventDefault(),e.moveSelectionBy(r,-1);break}},e.selectItemOnEnter=function(r){if(w.getCode(r)===w.Enter){var a=e.getSelectedResult();a&&(r.preventDefault(),e.setValue(a.title),e.handleResultSelect(r,a),e.close())}},e.closeOnDocumentClick=function(r){e.close()},e.handleMouseDown=function(r){e.isMouseDown=!0,P(e.props,"onMouseDown",r,e.props),A.sub("mouseup",e.handleDocumentMouseUp)},e.handleDocumentMouseUp=function(){e.isMouseDown=!1,A.unsub("mouseup",e.handleDocumentMouseUp)},e.handleInputClick=function(r){r.nativeEvent.stopImmediatePropagation(),e.tryOpen()},e.handleItemClick=function(r,a){var c=a.id,u=e.getSelectedResult(c);r.nativeEvent.stopImmediatePropagation(),e.setValue(u.title),e.handleResultSelect(r,u),e.close()},e.handleItemMouseDown=function(r){r.preventDefault()},e.handleFocus=function(r){P(e.props,"onFocus",r,e.props),e.setState({focus:!0})},e.handleBlur=function(r){P(e.props,"onBlur",r,e.props),e.setState({focus:!1})},e.handleSearchChange=function(r){r.stopPropagation();var a=e.props.minCharacters,c=e.state.open,u=r.target.value;P(e.props,"onSearchChange",r,m({},e.props,{value:u})),u.length<a?e.close():c||e.tryOpen(u),e.setValue(u)},e.getFlattenedResults=function(){var r=e.props,a=r.category,c=r.results;return a?Xe(c,function(u,p){return u.concat(p.results)},[]):c},e.getSelectedResult=function(r){r===void 0&&(r=e.state.selectedIndex);var a=e.getFlattenedResults();return Ye(a,r)},e.setValue=function(r){var a=e.props.selectFirstResult;e.setState({value:r,selectedIndex:a?0:-1})},e.moveSelectionBy=function(r,a){var c=e.state.selectedIndex,u=e.getFlattenedResults(),p=u.length-1,h=c+a;h>p?h=0:h<0&&(h=p),e.setState({selectedIndex:h}),e.scrollSelectedItemIntoView(),e.handleSelectionChange(r)},e.scrollSelectedItemIntoView=function(){if(ze()){var r=document.querySelector(".ui.search.active.visible .results.visible");if(r){var a=r.querySelector(".result.active");if(a){var c=a.offsetTop<r.scrollTop,u=a.offsetTop+a.clientHeight>r.scrollTop+r.clientHeight;c?r.scrollTop=a.offsetTop:u&&(r.scrollTop=a.offsetTop+a.clientHeight-r.clientHeight)}}}},e.tryOpen=function(r){r===void 0&&(r=e.state.value);var a=e.props.minCharacters;r.length<a||e.open()},e.open=function(){e.setState({open:!0})},e.close=function(){e.setState({open:!1})},e.renderSearchInput=function(r){var a=e.props,c=a.icon,u=a.input,p=a.placeholder,h=e.state.value;return et.create(u,{autoGenerateKey:!1,defaultProps:m({},r,{autoComplete:"off",icon:c,onChange:e.handleSearchChange,onClick:e.handleInputClick,tabIndex:"0",value:h,placeholder:p}),overrideProps:on})},e.renderNoResults=function(){var r=e.props,a=r.noResultsDescription,c=r.noResultsMessage;return f.createElement("div",{className:"message empty"},f.createElement("div",{className:"header"},c),a&&f.createElement("div",{className:"description"},a))},e.renderResult=function(r,a,c,u){var p=r.childKey,h=te(r,["childKey"]);u===void 0&&(u=0);var d=e.props.resultRenderer,g=e.state.selectedIndex,v=a+u;return f.createElement($,m({key:p??(h.id||h.title),active:g===v,onClick:e.handleItemClick,onMouseDown:e.handleItemMouseDown,renderer:d},h,{id:v}))},e.renderResults=function(){var r=e.props.results;return se(r,e.renderResult)},e.renderCategories=function(){var r=e.props,a=r.categoryLayoutRenderer,c=r.categoryRenderer,u=r.results,p=e.state.selectedIndex,h=0;return se(u,function(d){var g=d.childKey,v=te(d,["childKey"]),R=m({key:g??v.name,active:qe(p,h,h+v.results.length),layoutRenderer:a,renderer:c},v),y=an(e.renderResult,h);return h+=v.results.length,f.createElement(I,R,v.results.map(y))})},e.renderMenuContent=function(){var r=e.props,a=r.category,c=r.showNoResults,u=r.results;return Se(u)?c?e.renderNoResults():null:a?e.renderCategories():e.renderResults()},e.renderResultsMenu=function(){var r=e.state.open,a=r?"visible":"",c=e.renderMenuContent();if(c)return f.createElement(F,{className:a},c)},e}t.getAutoControlledStateFromProps=function(o,i){if(typeof i.prevValue<"u"&&b(i.prevValue,i.value))return{prevValue:i.value};var l=o.selectFirstResult?0:-1;return{prevValue:i.value,selectedIndex:l}};var s=t.prototype;return s.shouldComponentUpdate=function(o,i){return!b(o,this.props)||!b(i,this.state)},s.componentDidUpdate=function(o,i){!i.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&A.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):i.focus&&!this.state.focus&&(this.isMouseDown||this.close(),A.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!i.open&&this.state.open?(this.open(),A.sub("click",this.closeOnDocumentClick),A.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):i.open&&!this.state.open&&(this.close(),A.unsub("click",this.closeOnDocumentClick),A.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))},s.componentWillUnmount=function(){A.unsub("click",this.closeOnDocumentClick),A.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])},s.render=function(){var o=this.state,i=o.searchClasses,l=o.focus,r=o.open,a=this.props,c=a.aligned,u=a.category,p=a.className,h=a.fluid,d=a.loading,g=a.size,v=O("ui",r&&"active visible",g,i,L(u,"category"),L(l,"focus"),L(h,"fluid"),L(d,"loading"),be(c,"aligned"),"search",p),R=U(t,this.props),y=K(t,this.props),_=Ve(R,{htmlProps:ke}),E=_[0],x=_[1];return f.createElement(y,m({},x,{className:v,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(E),this.renderResultsMenu())},t}(Qe);C.handledProps=["aligned","as","category","categoryLayoutRenderer","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","placeholder","resultRenderer","results","selectFirstResult","showNoResults","size","value"];C.propTypes={};C.defaultProps={icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0};C.autoControlledProps=["open","value"];C.Category=I;C.Result=$;C.Results=F;export{C as S};
